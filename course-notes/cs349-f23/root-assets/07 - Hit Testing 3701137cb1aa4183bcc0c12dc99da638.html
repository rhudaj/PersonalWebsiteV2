<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>07 - Hit Testing</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="3701137c-b1aa-4183-bcc0-c12dc99da638" class="page sans"><header><div class="page-header-icon undefined"><span class="icon">📓</span></div><h1 class="page-title">07 - Hit Testing</h1><p class="page-description"></p></header><div class="page-body"><table id="82a84acc-6ca5-4dad-a588-7a885c8120de" class="simple-table"><tbody><tr id="854e8e4c-236a-422e-8afe-6872e96c79f9"><th id="aHdc" class="block-color-gray_background simple-table-header">Title Slide</th><td id="&lt;SCr" class="" style="width:421.4609375px">Hit Testing</td></tr><tr id="b0085544-325b-4d58-b344-cd214f79dcb6"><th id="aHdc" class="block-color-gray_background simple-table-header"><strong>Date</strong></th><td id="&lt;SCr" class="" style="width:421.4609375px">2023 - SEP </td></tr></tbody></table><hr id="679f2fab-1511-4e42-9a50-214cf37a9a8f"/><h2 id="73970a93-8bec-4454-acf0-db37f7bd0b20" class="">Shape Model</h2><p id="c8d3892b-f36b-45f5-b262-895155412ce0" class="">extends  <code>drawable</code></p><ul id="2bdf5389-7b8d-4642-9b08-c3a538f31ab0" class="bulleted-list"><li style="list-style-type:disc">geometry (dimensions, points, …)</li></ul><ul id="c5a1b5f1-4c0e-42be-9362-ad8a8637d51f" class="bulleted-list"><li style="list-style-type:disc">style (fill, stroke, …)</li></ul><ul id="ff37c87f-abfa-4c00-9ad6-4d1eb492c8cf" class="bulleted-list"><li style="list-style-type:disc">transformations (event handling, hit-testing, …) </li></ul><figure id="c8ffd9ec-7831-4054-99f4-3092073f4c4f" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_15.47.55.png"><img style="width:240px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_15.47.55.png"/></a></figure><p id="cf72c309-c61d-4f19-8564-4e5a36939779" class="">
</p><figure id="b0994a87-301a-4609-9b84-85b472e7f670" class="block-color-orange_background link-to-page"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/shape-model%20(demo)%20b0994a87301a46099b8485b472e7f670.html"><span class="icon">🧑🏽‍💻</span>shape-model (demo)</a></figure><hr id="a2d0c721-c30a-4137-a3c1-c2bca7d6f7f1"/><h1 id="dd061f26-1d45-4076-8ce2-9ed806e360a5" class=""><mark class="highlight-red">Hit Tests</mark></h1><div id="8bfb5880-fa95-4e75-9cc4-54dfcea5302c" class="column-list"><div id="99da72f3-4805-448e-afeb-b73c34fd1cb9" style="width:50%" class="column"><ol type="1" id="f1210086-4f7e-4ec2-b6e1-e71bfb0d32e3" class="numbered-list" start="1"><li><strong>Inside</strong><ol type="a" id="e2551977-dac5-4257-812e-f9dcf2d254ec" class="numbered-list" start="1"><li>mouse inside shape</li></ol><ol type="a" id="9b4b4eb4-3a06-42da-ad20-8384568488f7" class="numbered-list" start="2"><li>closed shapes (ie: circle)</li></ol></li></ol></div><div id="3303c745-9be7-4448-a091-0b4717920bf0" style="width:50%" class="column"><ol type="1" id="d783130a-f742-419f-9341-de4ca36e60ac" class="numbered-list" start="1"><li><strong>Edge</strong><ol type="a" id="0ac4b398-cb03-460d-8eb5-fdeaca598b01" class="numbered-list" start="1"><li>mouse on shape outline</li></ol><ol type="a" id="86d0566f-4426-4694-b1d4-4d33be1ed796" class="numbered-list" start="2"><li>open shapes (ie: line) </li></ol></li></ol></div></div><figure id="2427b8d7-4dd3-4faf-8789-ac0277a4f20f" class="image"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_15.52.04.png"><img style="width:528px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_15.52.04.png"/></a></figure><p id="b7d9ae36-5d20-4e4c-abec-e91d720dd2b7" class="">
</p><h3 id="2856c8d4-5e90-477f-99b7-4823d588472b" class="">Implementation Depends on:</h3><ul id="2c775dec-ffbe-4cfc-a302-1ca680495c22" class="bulleted-list"><li style="list-style-type:disc">mouse (x, y)</li></ul><ul id="9dbeff1f-8731-4e2a-9947-84eee91b40f8" class="bulleted-list"><li style="list-style-type:disc">shape-properties</li></ul><ul id="ddf0f57d-5ac7-4e78-a71b-e784e6b969c0" class="bulleted-list"><li style="list-style-type:disc">render-properties<ul id="2bbd241a-223b-4655-9ee2-27d5cb0c0e78" class="bulleted-list"><li style="list-style-type:circle">filled/stroked?</li></ul><ul id="f552d473-aa65-4b40-9d1d-605670df1382" class="bulleted-list"><li style="list-style-type:circle">stroke width? </li></ul></li></ul><hr id="717a2661-4392-463a-aa4f-0df0c99dc14f"/><h2 id="24192e69-03e0-46d9-a000-ed8f0978ebd2" class=""><mark class="highlight-orange">Rectangle </mark></h2><h3 id="8d789352-47bb-43fe-ae9c-822219a4495e" class=""><mark class="highlight-yellow">Inside Hit-Test</mark></h3><figure id="7ae6bfcb-0062-48fb-b0b9-d34532d2bb01" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.03.53.png"><img style="width:240px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.03.53.png"/></a></figure><p id="48078482-f3c2-4904-ad97-d5502a05ec4b" class=""><strong>true when: </strong></p><ul id="3a1d1664-bac5-42be-9a88-0f316a35f664" class="bulleted-list"><li style="list-style-type:disc">mx is in range [x, x + h]</li></ul><ul id="f1916c60-8d9b-4042-ae41-5b937ad22827" class="bulleted-list"><li style="list-style-type:disc">my s in range [y, y + h] </li></ul><ul id="375a0a57-f8bf-42ea-9fb4-c9bee87cf0bb" class="toggle"><li><details open=""><summary><strong><strong><strong><strong>code</strong></strong></strong></strong></summary><pre id="a54b76d7-1aa3-418c-8222-61d992f79665" class="code"><code>function insideHitTestRect(
	mx: number,
	my: number, 
	x: number, 
	y: number
) {
	return (mx &gt;= x) &amp;&amp; (mx &lt;= x+w) &amp; (my &gt;= y) &amp; (my &lt;= y+h)
}</code></pre></details></li></ul><h3 id="26275ab3-cb17-4f2f-94b5-168f1a3fc37d" class=""><mark class="highlight-yellow">Edge Hit-Test</mark></h3><figure id="2bc07a2c-c229-48dd-a277-4c888f769559" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.09.52.png"><img style="width:240px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.09.52.png"/></a></figure><div id="d82cb87c-f493-4c68-8cc3-16e370ac244f" class="column-list"><div id="44d5c564-1415-4f1a-aedd-7c62703d6b72" style="width:50%" class="column"><p id="852c00b7-e867-487b-8806-44856a07b6d0" class=""><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>true when: </strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p><ul id="6360fec9-4790-4ff9-be6e-2b844acbce80" class="bulleted-list"><li style="list-style-type:disc">mx is in range [x-s/2, x + w + s/2] </li></ul><ul id="b5faecf9-98e3-4e99-9bb9-0b324ea971fb" class="bulleted-list"><li style="list-style-type:disc">my is in range [y-s/2, y + h + s/2]</li></ul><ul id="20200e14-b678-40a2-90ec-374ce1f16e53" class="bulleted-list"><li style="list-style-type:disc">mx is not in range [x + s/2, x + w - s/2]</li></ul><ul id="14f80525-e5a4-4e72-baf2-e91d22dd6ad3" class="bulleted-list"><li style="list-style-type:disc">my is not in range [y + s/2, y + h - s/2]</li></ul></div><div id="3cf7cc5d-0e07-40eb-8d3d-b1e3a5be27b6" style="width:50%" class="column"><figure id="be439b5b-8717-4e02-b771-0721174968db" class="image"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.09.16.png"><img style="width:192px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.09.16.png"/></a></figure></div></div><ul id="94699697-b06c-4fba-b672-85c09c3e0f05" class="toggle"><li><details open=""><summary><strong><strong><strong><strong>code</strong></strong></strong></strong></summary><pre id="52f3100d-6997-4481-8204-dcda96fa4ff0" class="code"><code>export function edgeHitTestRectangle(
  mx: number,
  my: number,
  x: number,
  y: number,
  w: number,
  h: number,
  strokeWidth: number
) {
  // width of stroke on either side of edges
  const s = strokeWidth / 2;
  // inside rect after adding stroke
  const outer =
    mx &gt;= x - s &amp;&amp; mx &lt;= x + w + s &amp;&amp; my &gt;= y - s &amp;&amp; my &lt;= y + h + s;
  // but NOT inside inner rect after subtracting stroke
  const inner =
    mx &gt;= x + s &amp;&amp; mx &lt;= x + w - s &amp;&amp; my &gt;= y + s &amp;&amp; my &lt;= y + h - s;
  return outer &amp;&amp; !inner;
}</code></pre></details></li></ul><p id="b6df539f-3ab2-48f1-9fb3-32ea43221bbc" class="">
</p><hr id="d432ce1b-d8ae-4124-9a10-9122f0694e79"/><h2 id="1bea7c1a-33d3-4862-8610-6d6c8a9a985b" class=""><mark class="highlight-orange">Circle</mark></h2><h3 id="f22a8387-1010-4342-939c-75e3dc6dedc2" class=""><mark class="highlight-yellow">Inside Hit-Test</mark></h3><figure id="57981e30-3361-4914-bdc0-ee808a520c1e" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.19.11.png"><img style="width:240px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.19.11.png"/></a></figure><p id="a96fbfcc-8e9e-44fe-80ea-79b74eafe5f9" class=""><strong>true when: </strong></p><ul id="db72b8af-c5d0-419c-88ba-69b02911ad4d" class="bulleted-list"><li style="list-style-type:disc">distance: (mx,my) → (x,y) &lt; r </li></ul><h3 id="fe922696-c49f-41f1-abe3-a6ab91505c60" class=""><mark class="highlight-yellow">Edge</mark></h3><figure id="8557a1c2-ab7e-4d2a-ad11-8e2e37e97542" class="image"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.21.16.png"><img style="width:192px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.21.16.png"/></a></figure><p id="8c3dd972-1637-40ac-b06d-87682f7f36e6" class=""><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>true when: </strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p><ul id="c632627e-bccc-4c3d-9e38-83168da4ad26" class="bulleted-list"><li style="list-style-type:disc">r - s/2 ≤ distance: (mx,my) → (x,y) ≤ r + s/2</li></ul><p id="0e3b50ac-5a3f-4c8f-9ef5-c43cb05f4ff4" class="">
</p><hr id="b1fa91fe-8832-48aa-b6aa-85d7bc6ac84b"/><h2 id="95188a7c-4bca-4886-99e8-2225cca2cefe" class=""><mark class="highlight-orange">Line</mark></h2><figure id="71cad2ee-a755-4c48-bb9b-44ea79f1232a" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.23.35.png"><img style="width:192px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_16.23.35.png"/></a></figure><h3 id="3377ff8d-e2c2-4182-a79f-01be86eef625" class=""><mark class="highlight-yellow">Edge</mark></h3><p id="99fffd5f-6ed4-4d8e-ba06-90e973c85d94" class=""><strong><strong><strong><strong><strong><strong><strong><strong><strong>Calculate</strong></strong></strong></strong></strong></strong></strong></strong></strong></p><ul id="730e3cb8-58aa-43f3-b89c-e4b15325ddd7" class="bulleted-list"><li style="list-style-type:disc">(qx, qy)  = closest point on projected line </li></ul><ul id="4dca01e1-376c-446e-972d-1d6daa21908d" class="bulleted-list"><li style="list-style-type:disc">d = distance from (mx,my) to (qx, qy) </li></ul><p id="b00a31f4-cfae-42d9-8d6a-078555544ed1" class=""><strong><strong><strong><strong><strong><strong>true when</strong></strong></strong></strong></strong></strong></p><ul id="bc930058-38de-46d4-a90d-5e5deff747ff" class="bulleted-list"><li style="list-style-type:disc">(qx,qy) is <em>between</em> (x1,y1) and (x2, y2) </li></ul><ul id="1951f7c2-458a-4415-b1f8-c4393db294c0" class="bulleted-list"><li style="list-style-type:disc">d &lt; s/2</li></ul><ul id="a3acfe1b-1052-4e30-8956-dbbbefb44f19" class="toggle"><li><details open=""><summary><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Find closest point on line</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></summary><figure id="86bd3d95-00ee-4b50-b7dd-cf83502372e0" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/IMG_DE113E3DD484-1.jpeg"><img style="width:192px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/IMG_DE113E3DD484-1.jpeg"/></a></figure><ul id="9481505f-a1dd-4f8c-93f6-4802edf599f7" class="toggle"><li><details open=""><summary><strong>code</strong></summary><pre id="2ea2f1f1-c071-4032-87f1-39c6ff2e4b9e" class="code"><code>export function closestPoint(
  m: Point2,
  p0: Point2,
  p1: Point2,
  segmentOnly = true
): Point2 
{
  const v = p1.subtract(p0); // v = P1 - P0

  // early out if line is less than 1 pixel long
  if (v.magnitude() &lt; 1) return p0.clone();

  const u = m.subtract(p0); // u = M - P0

  // scalar of vector projection ...
  const s = u.dot(v) / v.dot(v);

  // returns closest point on infinite line
  if (!segmentOnly) {
    return p0.add(v.multiply(s));
  }

  // find point for constrained line segment
  if (s &lt; 0) {
    return p0.clone();
  } else if (s &gt; 1) {
    return p1.clone();
  } else {
    const w = v.multiply(s); // w = s * v
    return p0.add(w); // Q = P0 + w
  }
}</code></pre></details></li></ul><figure id="6ab2d1c1-8524-4d47-86a9-c1f595e65b9c" class="block-color-orange_background link-to-page"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/closest-point%20(demo)%206ab2d1c185244d4786a9c1f595e65b9c.html"><span class="icon">🧑🏽‍💻</span>closest-point (demo)</a></figure></details></li></ul><ul id="5ad122aa-8ec2-4a04-bd78-5c60952fda33" class="toggle"><li><details open=""><summary><strong><strong><strong><strong>code</strong></strong></strong></strong></summary><pre id="682e5603-9e97-4900-86df-da6f051d7934" class="code"><code>export function hitTestLine(
  mx: number,
  my: number,
  p0x: number,
  p0y: number,
  p1x: number,
  p1y: number,
  strokeWidth: number
) {
  // edge hit-test
  const m = point(mx, my);
  const q = closestPoint(m, point(p0x, p0y), point(p1x, p1y));
  const d = distance(m.x, m.y, q.x, q.y);
  if (d &lt; strokeWidth / 2) return true;

  // no hit
  return false;
}</code></pre></details></li></ul><hr id="cd006d69-bf03-48c3-9d7d-13f65ee1c79d"/><h2 id="5dcc39e2-4631-4611-b96f-d776db2a0dc9" class=""><mark class="highlight-orange">PolyLine</mark></h2><figure id="32c66f15-802f-445f-b6a5-4a4ca37344d3" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.20.42.png"><img style="width:192px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.20.42.png"/></a></figure><h3 id="733c2c16-4763-4631-93d2-5274e7901c9f" class=""><mark class="highlight-yellow">Edge</mark></h3><p id="ef161135-b91b-40bc-869c-e453cc8a8299" class=""><strong><strong><strong><strong><strong><strong>true when</strong></strong></strong></strong></strong></strong></p><ul id="739f80d4-abf1-4f87-a95e-f5782a942cfb" class="bulleted-list"><li style="list-style-type:disc">edge hit test true for any line segment </li></ul><ul id="e97eaf69-b232-4d2d-ba5e-bc6d18d317d3" class="toggle"><li><details open=""><summary><strong><strong><strong><strong>code</strong></strong></strong></strong></summary><pre id="121b0ed9-5866-4739-8281-ec694f7309b4" class="code"><code>export function edgeHitTestPolygon(
  mx: number,
  my: number,
  points: Point2[],
  strokeWidth: number
) {
  // assume shape is closed, so start with segment
  // from last point to first point
  let p0 = points.slice(-1)[0];  //get the last element
  for (let p1 of points) {
    if (hitTestLine(mx, my, p0.x, p0.y, p1.x, p1.y, strokeWidth)) return true;
    p0 = p1;
  }
  return false;
}</code></pre></details></li></ul><hr id="6376bb39-6e30-455d-bd9c-9bbe9f4fe738"/><h2 id="c144257f-5bb7-4238-856c-ee529f5b1518" class=""><mark class="highlight-orange">Polygon</mark></h2><figure id="ce3ec278-a5d9-4eb4-a955-e9709d7603b9" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.25.14.png"><img style="width:144px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.25.14.png"/></a></figure><h3 id="c56a1078-e50c-45ca-894e-ea0027be1200" class=""><mark class="highlight-yellow">Inside</mark></h3><p id="a655bd57-4e91-43e4-83b2-cdfa5cfef5bc" class=""><strong><strong><strong><strong><strong><strong>true when…</strong></strong></strong></strong></strong></strong></p><ol type="1" id="f6324c15-3f5d-48e7-a85a-83268c43b823" class="numbered-list" start="1"><li>cast y=0 ray from mouse position. </li></ol><ol type="1" id="ea3c1866-2c05-496c-a208-934e09e1b347" class="numbered-list" start="2"><li>***</li></ol><ul id="9363bfea-7d0c-4dfe-8136-34cc191a3377" class="toggle"><li><details open=""><summary><strong>Count how many times it intersects line segments of Polygon</strong></summary><figure id="0b1002bb-2e37-4169-93d7-78ff3a963b13" class="image" style="text-align:left"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.26.12.png"><img style="width:240px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.26.12.png"/></a></figure><ol type="1" id="8711dcef-9d50-4c0c-91be-43c8f989a63c" class="numbered-list" start="1"><li>odd → INSIDE</li></ol><ol type="1" id="10a2e704-7092-4fc2-ab35-b8357f25e8a9" class="numbered-list" start="2"><li>even → OUTSIDE</li></ol><p id="457f0f77-0e52-4181-9cf9-e95111d06383" class="">If the ray intersects a point: </p><ul id="af64e272-ea1d-4665-9dea-f6fbb0f29760" class="bulleted-list"><li style="list-style-type:disc">if it’s <code>&lt; &gt;</code> → INSIDE</li></ul><ul id="a6e46994-4813-41ca-9e48-edb44854ab8c" class="bulleted-list"><li style="list-style-type:disc">if it’s <code>^</code> → OUTSIDE<figure id="cc042991-decd-4879-b344-3fca0281e800" class="image"><a href="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.28.45.png"><img style="width:192px" src="07%20-%20Hit%20Testing%203701137cb1aa4183bcc0c12dc99da638/Screen_Shot_2023-09-28_at_19.28.45.png"/></a></figure></li></ul></details></li></ul><hr id="5341b43f-bd00-40f5-acea-ee28c44e045b"/><h2 id="a44a978c-3c53-4cdf-90c2-65cb37142fbe" class="">DOM Canvas API Hit-Testing</h2><p id="42fd10a3-c6be-4923-8932-43b6ce3b8452" class="">Test if point is inside area contained by shape path: </p><pre id="32e56bb3-c6e9-409d-b0ad-e42fde5fb02b" class="code"><code>const hitFill = gc.isPointInPath(m.x, m.y);
const hitStroke = gc.isPointInStroke(m.x, m.y);</code></pre><ul id="aaa9bca0-90c4-4cf9-9b1a-1f22222066f2" class="bulleted-list"><li style="list-style-type:disc">handles stroke thickness (lineWeight to gc) <ul id="7e64889d-c601-4ddf-b182-b646acfb6249" class="bulleted-list"><li style="list-style-type:circle">true if point is anywhere on stroke</li></ul></li></ul><ul id="60770b81-2827-4f23-aa0c-00c7bb79854b" class="bulleted-list"><li style="list-style-type:disc">handles unfilled shapes<ul id="f38fffa0-9226-412c-af3c-56e6ea34451c" class="bulleted-list"><li style="list-style-type:circle">true only if point is on stroke area, false if inside </li></ul></li></ul><p id="f6673b0d-8a88-4986-b85a-843fdc2f53ba" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>